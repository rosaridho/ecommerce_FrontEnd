{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from 'unistore';\nimport axios from 'axios';\nvar initialState = {\n  api_key: '',\n  // email:'',\n  pembeli_password: '',\n  // full_name:'',\n  pembeli_username: '',\n  is_login: false\n};\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, e) {\n      return _defineProperty({}, e.target.name, e.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  pembeli_username: state.pembeli_username,\n                  pembeli_password: state.pembeli_password\n                };\n                alert(state.username);\n                _context.next = 4;\n                return axios.post(\"http://127.0.0.1:5000/pembeli/login\", data).then(function (response) {\n                  console.log(\"postLogin response\", response.data);\n                  store.setState({\n                    is_login: true,\n                    api_key: response.data.Token\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    showHeadLine: function () {\n      var _showHeadLine = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {};\n                _context2.next = 3;\n                return axios.get(myReqUrl).then(function (response) {\n                  console.log(response.data);\n                  store.setState({\n                    listNews: response.data.articles\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function showHeadLine(_x2) {\n        return _showHeadLine.apply(this, arguments);\n      }\n\n      return showHeadLine;\n    }()\n  };\n};","map":{"version":3,"sources":["/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/src/store.js"],"names":["createStore","axios","initialState","api_key","pembeli_password","pembeli_username","is_login","store","actions","setField","state","e","target","name","value","postLogout","postLogin","data","alert","username","post","then","response","console","log","setState","Token","catch","error","showHeadLine","get","myReqUrl","listNews","articles"],"mappings":";;;AAAA,OAAOA,WAAP,MAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,YAAY,GAAG;AACjBC,EAAAA,OAAO,EAAC,EADS;AAEjB;AACAC,EAAAA,gBAAgB,EAAC,EAHA;AAIjB;AACAC,EAAAA,gBAAgB,EAAC,EALA;AAMjBC,EAAAA,QAAQ,EAAG;AANM,CAArB;AAUA,OAAO,IAAMC,KAAK,GAAGP,WAAW,CAACE,YAAD,CAAzB;AAEP,OAAO,IAAMM,OAAO,GAAG,SAAVA,OAAU,CAAAD,KAAK;AAAA,SAAK;AAC7BE,IAAAA,QAAQ,EAAC,kBAACC,KAAD,EAAOC,CAAP,EAAa;AAClB,iCAASA,CAAC,CAACC,MAAF,CAASC,IAAlB,EAA0BF,CAAC,CAACC,MAAF,CAASE,KAAnC;AACH,KAH4B;AAI7BC,IAAAA,UAAU,EAAE,oBAAAL,KAAK,EAAG;AAChB,aAAO;AAACJ,QAAAA,QAAQ,EAAG;AAAZ,OAAP;AACH,KAN4B;AAO7BU,IAAAA,SAAS;AAAA;AAAA;AAAA,+BAAG,iBAAMN,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAEFO,gBAAAA,IAFE,GAEK;AAACZ,kBAAAA,gBAAgB,EAAEK,KAAK,CAACL,gBAAzB;AAA2CD,kBAAAA,gBAAgB,EAAEM,KAAK,CAACN;AAAnE,iBAFL;AAGRc,gBAAAA,KAAK,CAACR,KAAK,CAACS,QAAP,CAAL;AAHQ;AAAA,uBAIFlB,KAAK,CACVmB,IADK,CACA,qCADA,EACuCH,IADvC,EAELI,IAFK,CAEA,UAAAC,QAAQ,EAAI;AACdC,kBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACL,IAA3C;AACIV,kBAAAA,KAAK,CAACkB,QAAN,CAAe;AACXnB,oBAAAA,QAAQ,EAAG,IADA;AAEXH,oBAAAA,OAAO,EAAGmB,QAAQ,CAACL,IAAT,CAAcS;AAFb,mBAAf;AAIP,iBARK,EASLC,KATK,CASC,UAAAC,KAAK,EAAI;AACZL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACH,iBAXK,CAJE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAPoB;AAwB7BC,IAAAA,YAAY;AAAA;AAAA;AAAA,+BAAG,kBAAMnB,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACTO,gBAAAA,IADS,GACF,EADE;AAAA;AAAA,uBAEThB,KAAK,CACV6B,GADK,CACDC,QADC,EAELV,IAFK,CAEA,UAAAC,QAAQ,EAAI;AAClBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACL,IAArB;AACEV,kBAAAA,KAAK,CAACkB,QAAN,CAAe;AAACO,oBAAAA,QAAQ,EAAEV,QAAQ,CAACL,IAAT,CAAcgB;AAAzB,mBAAf;AAED,iBANK,EAOLN,KAPK,CAOC,UAASC,KAAT,EAAe;AACpBL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBATK,CAFS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAH;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAxBiB,GAAL;AAAA,CAArB","sourcesContent":["import createStore from 'unistore';\nimport axios from 'axios';\n\nconst initialState = {\n    api_key:'',\n    // email:'',\n    pembeli_password:'',\n    // full_name:'',\n    pembeli_username:'',\n    is_login : false,\n}\n\n\nexport const store = createStore(initialState)\n\nexport const actions = store => ({\n    setField:(state,e) => {\n        return {[e.target.name] : e.target.value};\n    },\n    postLogout: state =>{\n        return {is_login : false};\n    },\n    postLogin : async state => {\n        \n        const data = {pembeli_username: state.pembeli_username, pembeli_password: state.pembeli_password};\n        alert(state.username)\n        await axios\n        .post(\"http://127.0.0.1:5000/pembeli/login\", data)\n        .then(response => {\n            console.log(\"postLogin response\", response.data);\n                store.setState({\n                    is_login : true,\n                    api_key : response.data.Token,\n                });\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    },\n    showHeadLine : async state => {\n    const data = {}\n    await axios\n    .get(myReqUrl)\n    .then(response => {\n    console.log(response.data)\n      store.setState({listNews: response.data.articles});\n      \n    })\n    .catch(function(error){\n      console.log(error)\n    })\n    }\n});"]},"metadata":{},"sourceType":"module"}