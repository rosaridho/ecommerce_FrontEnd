{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _readOnlyError from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/readOnlyError\";\nvar _jsxFileName = \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/src/pages/kategori.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport \"../styles/App.css\";\nimport \"../styles/bootstrap.min.css\";\nimport ShowProduk from \"./ShowProduk.js\";\nimport Search from \"../components/search.js\";\nvar myReqUrl = \"\";\nvar mySearchUrl_Not = \"http://127.0.0.1:5000/pembeli/produk/search\";\nvar mySearchUrl_Login = \"http://127.0.0.1:5000/pembeli/produkAll/search/\";\nvar mySearchUrl = \"\";\n\nvar Kategori =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Kategori, _Component);\n\n  function Kategori(props) {\n    var _this;\n\n    _classCallCheck(this, Kategori);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Kategori).call(this, props));\n\n    _this.componentDidMount = function () {\n      var self = _assertThisInitialized(_assertThisInitialized(_this));\n\n      var KATEGORIS = [];\n      var KATEGORI = \"\";\n      var SUBKATEGORI = \"\";\n      var KATEGORIDATA = _this.props.match.params.KATEGORIDATA;\n      console.log(KATEGORIDATA);\n      KATEGORIS = KATEGORIDATA.split(/\\s*\\-\\s*/g);\n      KATEGORI = KATEGORIS[0];\n      SUBKATEGORI = KATEGORIS[1];\n\n      if (SUBKATEGORI === undefined) {\n        myReqUrl = \"http://127.0.0.1:5000/pembeli/produk/\" + KATEGORI + \"?rp=9&p=1\";\n        axios.get(myReqUrl).then(function (response) {\n          var allData = response.data.Produk.filter(function (allData) {\n            return allData.produk_kategori === KATEGORI;\n          });\n          self.setState({\n            listProduk: allData\n          });\n          console.log(response.data);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      } else {\n        myReqUrl = \"http://127.0.0.1:5000/pembeli/produk/\" + KATEGORI + \"/\" + SUBKATEGORI + \"?rp=9&p=1\"; // alert(myReqUrl)\n\n        axios.get(myReqUrl).then(function (response) {\n          var allData = response.data.Produk.filter(function (allData) {\n            return allData.produk_kategori === KATEGORI;\n          });\n          allData = response.data.Produk.filter(function (allData) {\n            return allData.produk_subkategori === SUBKATEGORI;\n          });\n          self.setState({\n            listProduk: allData\n          });\n          console.log(response.data);\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    };\n\n    _this.handleInputChange = function (e) {\n      console.log(\"event\", e.target.value);\n      var value = e.target.value;\n\n      _this.setState({\n        search: value\n      }, function () {\n        _this.searchProduk(value);\n      });\n    };\n\n    _this.searchProduk =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(keyword) {\n        var self, config, response, allData, _response;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                console.log(\"searchProduk\", keyword);\n                self = _assertThisInitialized(_assertThisInitialized(_this));\n\n                if (!(keyword.length > -1)) {\n                  _context.next = 33;\n                  break;\n                }\n\n                if (!_this.props.is_login) {\n                  _context.next = 19;\n                  break;\n                }\n\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \" + _this.props.api_key\n                  }\n                };\n                _context.prev = 5;\n                _context.next = 8;\n                return axios.get(mySearchUrl_Login + _this.props.pembeli_username + \"?keyword=\" + keyword + \"&rp=9&p=1\", config);\n\n              case 8:\n                response = _context.sent;\n                console.log(response.data.Produk);\n                allData = response.data.Produk;\n                self.setState({\n                  listProduk: allData\n                });\n                _context.next = 17;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](5);\n                console.log(_context.t0);\n\n              case 17:\n                _context.next = 32;\n                break;\n\n              case 19:\n                mySearchUrl = (_readOnlyError(\"mySearchUrl\"), mySearchUrl_Not + \"?keyword=\" + keyword + \"&rp=9&p=1\");\n                _context.prev = 20;\n                _context.next = 23;\n                return axios.get(mySearchUrl);\n\n              case 23:\n                _response = _context.sent;\n                console.log(_response.data.Produk);\n                allData = _response.data.Produk;\n                self.setState({\n                  listProduk: allData\n                });\n                _context.next = 32;\n                break;\n\n              case 29:\n                _context.prev = 29;\n                _context.t1 = _context[\"catch\"](20);\n                console.log(_context.t1);\n\n              case 32:\n                ;\n\n              case 33:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[5, 14], [20, 29]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      listProduk: [],\n      username: \"\",\n      isLogin: false,\n      KATEGORIDATA: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Kategori, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          listProduk = _this$state.listProduk,\n          username = _this$state.username,\n          islogin = _this$state.islogin,\n          KATEGORI = _this$state.KATEGORI;\n      return React.createElement(\"div\", {\n        id: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Search, {\n        title: \"Cari\",\n        placeholder: \"type here...\",\n        doSearch: this.handleInputChange,\n        keyword: this.state.search,\n        doClickSearch: this.handleInputClickSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"container-fluid\",\n        style: {\n          padding: \"0\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-12 col-sm-12 offset-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        id: \"subtitleProduk\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, \"Produk Kategori \"))))), React.createElement(\"div\", {\n        className: \"produkHome2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container-fluid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, listProduk.map(function (item, key) {\n        return React.createElement(ShowProduk, {\n          key: key,\n          produkID: item.produk_id,\n          nama: item.produk_nama,\n          hargaAwal: item.produk_harga,\n          deskripsi: item.produk_deskripsi,\n          gambar: item.produk_gambar,\n          stok: item.produk_stok,\n          hargaAkhir: item.produk_hargaDiskon,\n          tanggalPost: item.produk_tanggalPost,\n          kategori: item.produk_kategori,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        });\n      })))));\n    }\n  }]);\n\n  return Kategori;\n}(Component);\n\nexport default connect(\"is_login, email, full_name\", actions)(withRouter(Kategori)); // export default Kategori;","map":{"version":3,"sources":["/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/src/pages/kategori.js"],"names":["React","Component","connect","actions","withRouter","Redirect","axios","ShowProduk","Search","myReqUrl","mySearchUrl_Not","mySearchUrl_Login","mySearchUrl","Kategori","props","componentDidMount","self","KATEGORIS","KATEGORI","SUBKATEGORI","KATEGORIDATA","match","params","console","log","split","undefined","get","then","response","allData","data","Produk","filter","produk_kategori","setState","listProduk","catch","error","produk_subkategori","handleInputChange","e","target","value","search","searchProduk","keyword","length","is_login","config","headers","Authorization","api_key","pembeli_username","state","username","isLogin","islogin","handleInputClickSearch","padding","map","item","key","produk_id","produk_nama","produk_harga","produk_deskripsi","produk_gambar","produk_stok","produk_hargaDiskon","produk_tanggalPost"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"unistore/react\";\nimport { actions } from \"../store.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { Redirect } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport \"../styles/App.css\";\nimport \"../styles/bootstrap.min.css\";\n\nimport ShowProduk from \"./ShowProduk.js\";\nimport Search from \"../components/search.js\";\n\nlet myReqUrl = \"\";\nconst mySearchUrl_Not = \"http://127.0.0.1:5000/pembeli/produk/search\";\nconst mySearchUrl_Login = \"http://127.0.0.1:5000/pembeli/produkAll/search/\";\n\nconst mySearchUrl = \"\";\n\nclass Kategori extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listProduk: [],\n      username: \"\",\n      isLogin: false,\n      KATEGORIDATA: \"\"\n    };\n  }\n\n  componentDidMount = () => {\n    const self = this;\n    let KATEGORIS = [];\n    let KATEGORI = \"\";\n    let SUBKATEGORI = \"\";\n    let { KATEGORIDATA } = this.props.match.params;\n    console.log(KATEGORIDATA);\n    KATEGORIS = KATEGORIDATA.split(/\\s*\\-\\s*/g);\n    KATEGORI = KATEGORIS[0];\n    SUBKATEGORI = KATEGORIS[1];\n\n    if (SUBKATEGORI === undefined) {\n      myReqUrl = \"http://127.0.0.1:5000/pembeli/produk/\" + KATEGORI + \"?rp=9&p=1\";\n      \n      axios\n        .get(myReqUrl)\n        .then(function(response) {\n          var allData = response.data.Produk.filter(\n            allData => allData.produk_kategori === KATEGORI\n          );\n          self.setState({ listProduk: allData });\n          console.log(response.data);\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    } else {\n      myReqUrl =\n        \"http://127.0.0.1:5000/pembeli/produk/\" +\n        KATEGORI +\n        \"/\" +\n        SUBKATEGORI +\n        \"?rp=9&p=1\";\n      // alert(myReqUrl)\n      axios\n        .get(myReqUrl)\n        .then(function(response) {\n          var allData = response.data.Produk.filter(\n            allData => allData.produk_kategori === KATEGORI\n          );\n          allData = response.data.Produk.filter(\n            allData => allData.produk_subkategori === SUBKATEGORI\n          );\n          self.setState({ listProduk: allData });\n          console.log(response.data);\n        })\n        .catch(function(error) {\n          console.log(error);\n        });\n    }\n  };\n\n  /* ========================function======================= */\n\n  handleInputChange = e => {\n    console.log(\"event\", e.target.value);\n    let value = e.target.value;\n    this.setState(\n      {\n        search: value\n      },\n      () => {\n        this.searchProduk(value);\n      }\n    );\n  };\n\n  searchProduk = async keyword => {\n    console.log(\"searchProduk\", keyword);\n    const self = this;\n    \n    if (keyword.length > -1) {\n      \n      if (this.props.is_login) {\n  \n        const config = {\n          headers: { Authorization: \"Bearer \" + this.props.api_key }\n        };\n       \n        try {\n          const response = \n          await axios\n          .get(\n            mySearchUrl_Login + this.props.pembeli_username + \"?keyword=\" + keyword + \"&rp=9&p=1\"  , config\n          );\n          console.log(response.data.Produk);\n          var allData = response.data.Produk;\n          self.setState({ listProduk: allData });\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        mySearchUrl = mySearchUrl_Not + \"?keyword=\" + keyword + \"&rp=9&p=1\"\n        try {\n          const response = \n          await axios\n          .get(\n            mySearchUrl\n          );\n          console.log(response.data.Produk);\n          var allData = response.data.Produk;\n          self.setState({ listProduk: allData });\n        } catch (error) {\n          console.log(error);\n        }\n      };\n    }\n  };\n\n  render() {\n    const { listProduk, username, islogin, KATEGORI } = this.state;\n    return (\n      <div id=\"container\">\n        {/* Search */}\n\n            <Search\n              title=\"Cari\"\n              placeholder=\"type here...\"\n              doSearch={this.handleInputChange}\n              keyword={this.state.search}\n              doClickSearch={this.handleInputClickSearch}\n            />\n\n        {/* Search */}\n        <div className=\"container-fluid\" style={{ padding: \"0\" }}>\n            <div className=\"row\">\n              <div className=\"col-md-12 col-sm-12 offset-md-0\">\n                <div id=\"subtitleProduk\">\n                  <h1>Produk Kategori </h1>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"produkHome2\">\n            <div className=\"container-fluid\">\n              <div className=\"row\">\n                {listProduk.map((item, key) => {\n                  return (\n                    <ShowProduk\n                      key={key}\n                      produkID={item.produk_id}\n                      nama={item.produk_nama}\n                      hargaAwal={item.produk_harga}\n                      deskripsi={item.produk_deskripsi}\n                      gambar={item.produk_gambar}\n                      stok={item.produk_stok}\n                      hargaAkhir={item.produk_hargaDiskon}\n                      tanggalPost={item.produk_tanggalPost}\n                      kategori={item.produk_kategori}\n                    />\n                  );\n                })}\n              </div>\n            </div>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default connect(\n  \"is_login, email, full_name\",\n  actions\n)(withRouter(Kategori));\n\n// export default Kategori;\n"]},"metadata":{},"sourceType":"module"}