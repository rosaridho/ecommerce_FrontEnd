{"ast":null,"code":"import _regeneratorRuntime from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport createStore from \"unistore\";\nimport axios from \"axios\";\nvar initialState = {\n  api_key: \"\",\n  pembeli_email: \"\",\n  pembeli_password: \"\",\n  pembeli_username: \"\",\n  pembeli_namaLengkap: \"\",\n  pembeli_gender: \"\",\n  pembeli_lokasiKota: \"\",\n  pembeli_pekerjaan: \"\",\n  pembeli_avatar: \"\",\n  is_login: false,\n  listTransaksi: [],\n  listCart: [],\n  cartTotalQty: \"\",\n  cartTotalByr: \"\",\n  jumlah: \"\",\n  pembayaran: \"\",\n  pembeli_id: \"\",\n  penjual_username: \"\",\n  penjual_password: \"\",\n  is_loginPenjual: false,\n  api_keyPenjual: \"\"\n};\nvar myReqUrl = \"http://127.0.0.1:5000/pembeli/login\";\nvar myDataUrl = \"http://127.0.0.1:5000/pembeli/\";\nvar myTransUrl = \"http://127.0.0.1:5000/pembeli/transaksi/\";\nvar myCartUrl = \"http://127.0.0.1:5000/pembeli/cart/\";\nvar myReqUrlPenjual = \"http://127.0.0.1:5000/penjual/login\";\nvar myDataUrlPenjual = \"http://127.0.0.1:5000/penjual/\";\nvar myCrudPenjual = \"http://127.0.0.1:5000/penjual/produk/\";\nexport var store = createStore(initialState);\nexport var actions = function actions(store) {\n  return {\n    setField: function setField(state, e) {\n      return _defineProperty({}, e.target.name, e.target.value);\n    },\n    postLogout: function postLogout(state) {\n      return {\n        is_login: false\n      };\n    },\n    postLogoutPenjual: function postLogoutPenjual(state) {\n      return {\n        is_loginPenjual: false\n      };\n    },\n    postLogin: function () {\n      var _postLogin = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                data = {\n                  pembeli_username: state.pembeli_username,\n                  pembeli_password: state.pembeli_password\n                };\n                _context.next = 3;\n                return axios.post(myReqUrl, data).then(function (response) {\n                  console.log(\"postLogin response\", response.data);\n                  store.setState({\n                    is_login: true,\n                    pembeli_username: state.pembeli_username,\n                    pembeli_password: state.pembeli_password,\n                    api_key: response.data.Token\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function postLogin(_x) {\n        return _postLogin.apply(this, arguments);\n      }\n\n      return postLogin;\n    }(),\n    postLoginPenjual: function () {\n      var _postLoginPenjual = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(state) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                data = {\n                  penjual_username: state.penjual_username,\n                  penjual_password: state.penjual_password\n                };\n                _context2.next = 3;\n                return axios.post(myReqUrlPenjual, data).then(function (response) {\n                  console.log(\"postLogin response\", response.data);\n                  store.setState({\n                    is_loginPenjual: true,\n                    penjual_username: state.penjual_username,\n                    penjual_password: state.penjual_password,\n                    api_keyPenjual: response.data.Token\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function postLoginPenjual(_x2) {\n        return _postLoginPenjual.apply(this, arguments);\n      }\n\n      return postLoginPenjual;\n    }(),\n    postLogin2: function () {\n      var _postLogin2 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(state) {\n        var config;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \" + state.api_key\n                  }\n                };\n                _context3.next = 3;\n                return axios.get(myDataUrl + state.pembeli_username, config).then(function (response) {\n                  console.log(response);\n                  store.setState({\n                    pembeli_email: response.data.Data_Pembeli.pembeli_email,\n                    pembeli_username: response.data.Data_Pembeli.pembeli_username,\n                    pembeli_namaLengkap: response.data.Data_Pembeli.pembeli_namaLengkap,\n                    pembeli_gender: response.data.Data_Pembeli.pembeli_gender,\n                    pembeli_lokasiKota: response.data.Data_Pembeli.pembeli_lokasiKota,\n                    pembeli_pekerjaan: response.data.Data_Pembeli.pembeli_pekerjaan,\n                    pembeli_avatar: response.data.Data_Pembeli.pembeli_avatar,\n                    pembeli_id: response.data.Data_Pembeli.pembeli_id\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function postLogin2(_x3) {\n        return _postLogin2.apply(this, arguments);\n      }\n\n      return postLogin2;\n    }(),\n    postLogin2Penjual: function () {\n      var _postLogin2Penjual = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(state) {\n        var config;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \" + state.api_keyPenjual\n                  }\n                };\n                _context4.next = 3;\n                return axios.get(myDataUrlPenjual + state.penjual_username, config).then(function (response) {\n                  console.log(response);\n                  store.setState({\n                    penjual_email: response.data.Data_Penjual.penjual_email,\n                    penjual_username: response.data.Data_Penjual.penjual_username,\n                    penjual_namaLengkap: response.data.Data_Penjual.penjual_namaLengkap,\n                    penjual_gender: response.data.Data_Penjual.penjual_gender,\n                    penjual_lokasiKota: response.data.Data_Penjual.penjual_lokasiKota\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function postLogin2Penjual(_x4) {\n        return _postLogin2Penjual.apply(this, arguments);\n      }\n\n      return postLogin2Penjual;\n    }(),\n    postLogin3: function () {\n      var _postLogin3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee5(state) {\n        var config;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \" + state.api_key\n                  }\n                };\n                _context5.next = 3;\n                return axios.get(myTransUrl + state.pembeli_username + \"?rp=40\", config).then(function (response) {\n                  console.log(response);\n                  var allTransaction = response.data.Transaksi;\n                  store.setState({\n                    listTransaksi: allTransaction\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function postLogin3(_x5) {\n        return _postLogin3.apply(this, arguments);\n      }\n\n      return postLogin3;\n    }(),\n    postLogin4: function () {\n      var _postLogin4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(state) {\n        var config;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                config = {\n                  headers: {\n                    Authorization: \"Bearer \" + state.api_key\n                  }\n                };\n                _context6.next = 3;\n                return axios.get(myCartUrl + state.pembeli_username, config).then(function (response) {\n                  console.log(response);\n                  var allCart = response.data;\n                  store.setState({\n                    listCart: allCart.Cart,\n                    cartTotalByr: allCart.totalBayar,\n                    cartTotalQty: allCart.totalProduk\n                  });\n                }).catch(function (error) {\n                  console.log(error);\n                });\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function postLogin4(_x6) {\n        return _postLogin4.apply(this, arguments);\n      }\n\n      return postLogin4;\n    }()\n  };\n};","map":{"version":3,"sources":["/home/alphatech/Desktop/ecommerce_Portofolio_v2/Main_Folder/react/react_ecommerce/src/store.js"],"names":["createStore","axios","initialState","api_key","pembeli_email","pembeli_password","pembeli_username","pembeli_namaLengkap","pembeli_gender","pembeli_lokasiKota","pembeli_pekerjaan","pembeli_avatar","is_login","listTransaksi","listCart","cartTotalQty","cartTotalByr","jumlah","pembayaran","pembeli_id","penjual_username","penjual_password","is_loginPenjual","api_keyPenjual","myReqUrl","myDataUrl","myTransUrl","myCartUrl","myReqUrlPenjual","myDataUrlPenjual","myCrudPenjual","store","actions","setField","state","e","target","name","value","postLogout","postLogoutPenjual","postLogin","data","post","then","response","console","log","setState","Token","catch","error","postLoginPenjual","postLogin2","config","headers","Authorization","get","Data_Pembeli","postLogin2Penjual","penjual_email","Data_Penjual","penjual_namaLengkap","penjual_gender","penjual_lokasiKota","postLogin3","allTransaction","Transaksi","postLogin4","allCart","Cart","totalBayar","totalProduk"],"mappings":";;;AAAA,OAAOA,WAAP,MAAwB,UAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,YAAY,GAAG;AACnBC,EAAAA,OAAO,EAAE,EADU;AAEnBC,EAAAA,aAAa,EAAE,EAFI;AAGnBC,EAAAA,gBAAgB,EAAE,EAHC;AAInBC,EAAAA,gBAAgB,EAAE,EAJC;AAKnBC,EAAAA,mBAAmB,EAAE,EALF;AAMnBC,EAAAA,cAAc,EAAE,EANG;AAOnBC,EAAAA,kBAAkB,EAAE,EAPD;AAQnBC,EAAAA,iBAAiB,EAAE,EARA;AASnBC,EAAAA,cAAc,EAAE,EATG;AAUnBC,EAAAA,QAAQ,EAAE,KAVS;AAWnBC,EAAAA,aAAa,EAAE,EAXI;AAYnBC,EAAAA,QAAQ,EAAC,EAZU;AAanBC,EAAAA,YAAY,EAAC,EAbM;AAcnBC,EAAAA,YAAY,EAAC,EAdM;AAenBC,EAAAA,MAAM,EAAC,EAfY;AAgBnBC,EAAAA,UAAU,EAAC,EAhBQ;AAiBnBC,EAAAA,UAAU,EAAE,EAjBO;AAkBnBC,EAAAA,gBAAgB,EAAC,EAlBE;AAmBnBC,EAAAA,gBAAgB,EAAC,EAnBE;AAoBnBC,EAAAA,eAAe,EAAE,KApBE;AAqBnBC,EAAAA,cAAc,EAAC;AArBI,CAArB;AAwBA,IAAMC,QAAQ,GAAG,qCAAjB;AACA,IAAMC,SAAS,GAAG,gCAAlB;AACA,IAAMC,UAAU,GAAG,0CAAnB;AACA,IAAMC,SAAS,GAAG,qCAAlB;AAEA,IAAMC,eAAe,GAAG,qCAAxB;AACA,IAAMC,gBAAgB,GAAG,gCAAzB;AACA,IAAMC,aAAa,GAAG,uCAAtB;AAGA,OAAO,IAAMC,KAAK,GAAG/B,WAAW,CAACE,YAAD,CAAzB;AAEP,OAAO,IAAM8B,OAAO,GAAG,SAAVA,OAAU,CAAAD,KAAK;AAAA,SAAK;AAC/BE,IAAAA,QAAQ,EAAE,kBAACC,KAAD,EAAQC,CAAR,EAAc;AACtB,iCAAUA,CAAC,CAACC,MAAF,CAASC,IAAnB,EAA0BF,CAAC,CAACC,MAAF,CAASE,KAAnC;AACD,KAH8B;AAK/BC,IAAAA,UAAU,EAAE,oBAAAL,KAAK,EAAI;AACnB,aAAO;AAAEtB,QAAAA,QAAQ,EAAE;AAAZ,OAAP;AACD,KAP8B;AAS/B4B,IAAAA,iBAAiB,EAAE,2BAAAN,KAAK,EAAI;AAC1B,aAAO;AAAEZ,QAAAA,eAAe,EAAE;AAAnB,OAAP;AACD,KAX8B;AAa/BmB,IAAAA,SAAS;AAAA;AAAA;AAAA,+BAAE,iBAAMP,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACHQ,gBAAAA,IADG,GACI;AACXpC,kBAAAA,gBAAgB,EAAE4B,KAAK,CAAC5B,gBADb;AAEXD,kBAAAA,gBAAgB,EAAE6B,KAAK,CAAC7B;AAFb,iBADJ;AAAA;AAAA,uBAKHJ,KAAK,CACR0C,IADG,CACEnB,QADF,EACYkB,IADZ,EAEHE,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACH,IAA3C;AACAX,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACbpC,oBAAAA,QAAQ,EAAE,IADG;AAEbN,oBAAAA,gBAAgB,EAAE4B,KAAK,CAAC5B,gBAFX;AAGbD,oBAAAA,gBAAgB,EAAE6B,KAAK,CAAC7B,gBAHX;AAIbF,oBAAAA,OAAO,EAAE0C,QAAQ,CAACH,IAAT,CAAcO;AAJV,mBAAf;AAMD,iBAVG,EAWHC,KAXG,CAWG,UAAAC,KAAK,EAAI;AACdL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAbG,CALG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAbsB;AAkC/BC,IAAAA,gBAAgB;AAAA;AAAA;AAAA,+BAAE,kBAAMlB,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACVQ,gBAAAA,IADU,GACH;AACXtB,kBAAAA,gBAAgB,EAAEc,KAAK,CAACd,gBADb;AAEXC,kBAAAA,gBAAgB,EAAEa,KAAK,CAACb;AAFb,iBADG;AAAA;AAAA,uBAKVpB,KAAK,CACR0C,IADG,CACEf,eADF,EACmBc,IADnB,EAEHE,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,QAAQ,CAACH,IAA3C;AACAX,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACb1B,oBAAAA,eAAe,EAAE,IADJ;AAEbF,oBAAAA,gBAAgB,EAAEc,KAAK,CAACd,gBAFX;AAGbC,oBAAAA,gBAAgB,EAAEa,KAAK,CAACb,gBAHX;AAIbE,oBAAAA,cAAc,EAAEsB,QAAQ,CAACH,IAAT,CAAcO;AAJjB,mBAAf;AAMD,iBAVG,EAWHC,KAXG,CAWG,UAAAC,KAAK,EAAI;AACdL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAbG,CALU;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAlCe;AAuD/BE,IAAAA,UAAU;AAAA;AAAA;AAAA,+BAAE,kBAAMnB,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACJoB,gBAAAA,MADI,GACK;AACbC,kBAAAA,OAAO,EAAE;AAAEC,oBAAAA,aAAa,EAAE,YAAYtB,KAAK,CAAC/B;AAAnC;AADI,iBADL;AAAA;AAAA,uBAIJF,KAAK,CACRwD,GADG,CACChC,SAAS,GAAGS,KAAK,CAAC5B,gBADnB,EACqCgD,MADrC,EAEHV,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAd,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACb5C,oBAAAA,aAAa,EAAEyC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BtD,aAD7B;AAEbE,oBAAAA,gBAAgB,EAAEuC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BpD,gBAFhC;AAGbC,oBAAAA,mBAAmB,EAAEsC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BnD,mBAHnC;AAIbC,oBAAAA,cAAc,EAAEqC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BlD,cAJ9B;AAKbC,oBAAAA,kBAAkB,EAAEoC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BjD,kBALlC;AAMbC,oBAAAA,iBAAiB,EAAEmC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BhD,iBANjC;AAObC,oBAAAA,cAAc,EAAEkC,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2B/C,cAP9B;AAQbQ,oBAAAA,UAAU,EAAE0B,QAAQ,CAACH,IAAT,CAAcgB,YAAd,CAA2BvC;AAR1B,mBAAf;AAUD,iBAdG,EAeH+B,KAfG,CAeG,UAASC,KAAT,EAAgB;AACrBL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAjBG,CAJI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAvDqB;AA+E/BQ,IAAAA,iBAAiB;AAAA;AAAA;AAAA,+BAAE,kBAAMzB,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACXoB,gBAAAA,MADW,GACF;AACbC,kBAAAA,OAAO,EAAE;AAAEC,oBAAAA,aAAa,EAAE,YAAYtB,KAAK,CAACX;AAAnC;AADI,iBADE;AAAA;AAAA,uBAIXtB,KAAK,CACRwD,GADG,CACC5B,gBAAgB,GAAGK,KAAK,CAACd,gBAD1B,EAC4CkC,MAD5C,EAEHV,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAd,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACbY,oBAAAA,aAAa,EAAEf,QAAQ,CAACH,IAAT,CAAcmB,YAAd,CAA2BD,aAD7B;AAEbxC,oBAAAA,gBAAgB,EAAEyB,QAAQ,CAACH,IAAT,CAAcmB,YAAd,CAA2BzC,gBAFhC;AAGb0C,oBAAAA,mBAAmB,EAAEjB,QAAQ,CAACH,IAAT,CAAcmB,YAAd,CAA2BC,mBAHnC;AAIbC,oBAAAA,cAAc,EAAElB,QAAQ,CAACH,IAAT,CAAcmB,YAAd,CAA2BE,cAJ9B;AAKbC,oBAAAA,kBAAkB,EAAEnB,QAAQ,CAACH,IAAT,CAAcmB,YAAd,CAA2BG;AALlC,mBAAf;AAOD,iBAXG,EAYHd,KAZG,CAYG,UAASC,KAAT,EAAgB;AACrBL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAdG,CAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OA/Ec;AAoG/Bc,IAAAA,UAAU;AAAA;AAAA;AAAA,+BAAE,kBAAM/B,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACJoB,gBAAAA,MADI,GACK;AAEbC,kBAAAA,OAAO,EAAE;AAAEC,oBAAAA,aAAa,EAAE,YAAYtB,KAAK,CAAC/B;AAAnC;AAFI,iBADL;AAAA;AAAA,uBAKJF,KAAK,CACRwD,GADG,CACC/B,UAAU,GAAGQ,KAAK,CAAC5B,gBAAnB,GAAsC,QADvC,EACiDgD,MADjD,EAEHV,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,sBAAIqB,cAAc,GAAGrB,QAAQ,CAACH,IAAT,CAAcyB,SAAnC;AACApC,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACfnC,oBAAAA,aAAa,EAAEqD;AADA,mBAAf;AAGD,iBARG,EASHhB,KATG,CASG,UAASC,KAAT,EAAgB;AACrBL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAXG,CALI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,OApGqB;AAsH/BiB,IAAAA,UAAU;AAAA;AAAA;AAAA,+BAAE,kBAAMlC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AACJoB,gBAAAA,MADI,GACK;AAEbC,kBAAAA,OAAO,EAAE;AAAEC,oBAAAA,aAAa,EAAE,YAAYtB,KAAK,CAAC/B;AAAnC;AAFI,iBADL;AAAA;AAAA,uBAKJF,KAAK,CACRwD,GADG,CACC9B,SAAS,GAAGO,KAAK,CAAC5B,gBADnB,EACqCgD,MADrC,EAEHV,IAFG,CAEE,UAAAC,QAAQ,EAAI;AAChBC,kBAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,sBAAIwB,OAAO,GAAGxB,QAAQ,CAACH,IAAvB;AACAX,kBAAAA,KAAK,CAACiB,QAAN,CAAe;AACflC,oBAAAA,QAAQ,EAAEuD,OAAO,CAACC,IADH;AAEftD,oBAAAA,YAAY,EAAEqD,OAAO,CAACE,UAFP;AAGfxD,oBAAAA,YAAY,EAAGsD,OAAO,CAACG;AAHR,mBAAf;AAKD,iBAVG,EAWHtB,KAXG,CAWG,UAASC,KAAT,EAAgB;AACrBL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AACD,iBAbG,CALI;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAtHqB,GAAL;AAAA,CAArB","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst initialState = {\n  api_key: \"\",\n  pembeli_email: \"\",\n  pembeli_password: \"\",\n  pembeli_username: \"\",\n  pembeli_namaLengkap: \"\",\n  pembeli_gender: \"\",\n  pembeli_lokasiKota: \"\",\n  pembeli_pekerjaan: \"\",\n  pembeli_avatar: \"\",\n  is_login: false,\n  listTransaksi: [],\n  listCart:[],\n  cartTotalQty:\"\",\n  cartTotalByr:\"\",\n  jumlah:\"\",\n  pembayaran:\"\",\n  pembeli_id: \"\",\n  penjual_username:\"\",\n  penjual_password:\"\", \n  is_loginPenjual: false,\n  api_keyPenjual:\"\"\n};\n\nconst myReqUrl = \"http://127.0.0.1:5000/pembeli/login\";\nconst myDataUrl = \"http://127.0.0.1:5000/pembeli/\";\nconst myTransUrl = \"http://127.0.0.1:5000/pembeli/transaksi/\";\nconst myCartUrl = \"http://127.0.0.1:5000/pembeli/cart/\";\n\nconst myReqUrlPenjual = \"http://127.0.0.1:5000/penjual/login\";\nconst myDataUrlPenjual = \"http://127.0.0.1:5000/penjual/\";\nconst myCrudPenjual = \"http://127.0.0.1:5000/penjual/produk/\";\n\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n  setField: (state, e) => {\n    return { [e.target.name]: e.target.value };\n  },\n\n  postLogout: state => {\n    return { is_login: false };\n  },\n\n  postLogoutPenjual: state => {\n    return { is_loginPenjual: false };\n  },\n\n  postLogin: async state => {\n    const data = {\n      pembeli_username: state.pembeli_username,\n      pembeli_password: state.pembeli_password\n    };\n    await axios\n      .post(myReqUrl, data)\n      .then(response => {\n        console.log(\"postLogin response\", response.data);\n        store.setState({\n          is_login: true,\n          pembeli_username: state.pembeli_username,\n          pembeli_password: state.pembeli_password,\n          api_key: response.data.Token\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  },\n\n  postLoginPenjual: async state => {\n    const data = {\n      penjual_username: state.penjual_username,\n      penjual_password: state.penjual_password\n    };\n    await axios\n      .post(myReqUrlPenjual, data)\n      .then(response => {\n        console.log(\"postLogin response\", response.data);\n        store.setState({\n          is_loginPenjual: true,\n          penjual_username: state.penjual_username,\n          penjual_password: state.penjual_password,\n          api_keyPenjual: response.data.Token\n        });\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  },\n\n  postLogin2: async state => {\n    const config = {\n      headers: { Authorization: \"Bearer \" + state.api_key }\n    };\n    await axios\n      .get(myDataUrl + state.pembeli_username, config)\n      .then(response => {\n        console.log(response);\n        store.setState({\n          pembeli_email: response.data.Data_Pembeli.pembeli_email,\n          pembeli_username: response.data.Data_Pembeli.pembeli_username,\n          pembeli_namaLengkap: response.data.Data_Pembeli.pembeli_namaLengkap,\n          pembeli_gender: response.data.Data_Pembeli.pembeli_gender,\n          pembeli_lokasiKota: response.data.Data_Pembeli.pembeli_lokasiKota,\n          pembeli_pekerjaan: response.data.Data_Pembeli.pembeli_pekerjaan,\n          pembeli_avatar: response.data.Data_Pembeli.pembeli_avatar,\n          pembeli_id: response.data.Data_Pembeli.pembeli_id,\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  postLogin2Penjual: async state => {\n    const config = {\n      headers: { Authorization: \"Bearer \" + state.api_keyPenjual }\n    };\n    await axios\n      .get(myDataUrlPenjual + state.penjual_username, config)\n      .then(response => {\n        console.log(response);\n        store.setState({\n          penjual_email: response.data.Data_Penjual.penjual_email,\n          penjual_username: response.data.Data_Penjual.penjual_username,\n          penjual_namaLengkap: response.data.Data_Penjual.penjual_namaLengkap,\n          penjual_gender: response.data.Data_Penjual.penjual_gender,\n          penjual_lokasiKota: response.data.Data_Penjual.penjual_lokasiKota,\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n\n  postLogin3: async state => {\n    const config = {\n      \n      headers: { Authorization: \"Bearer \" + state.api_key }\n    };\n    await axios\n      .get(myTransUrl + state.pembeli_username + \"?rp=40\", config)\n      .then(response => {\n        console.log(response);\n        var allTransaction = response.data.Transaksi\n        store.setState({\n        listTransaksi: allTransaction\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n  },\n  postLogin4: async state => {\n    const config = {\n      \n      headers: { Authorization: \"Bearer \" + state.api_key }\n    };\n    await axios\n      .get(myCartUrl + state.pembeli_username, config)\n      .then(response => {\n        console.log(response);\n        var allCart = response.data\n        store.setState({\n        listCart: allCart.Cart,\n        cartTotalByr: allCart.totalBayar,\n        cartTotalQty : allCart.totalProduk\n        });\n      })\n      .catch(function(error) {\n        console.log(error);\n      });\n    }\n});\n"]},"metadata":{},"sourceType":"module"}